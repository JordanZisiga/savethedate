<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Zisiga & Jordan ‚Äî November 2026</title>

  <!-- Open Graph -->
  <meta property="og:title" content="Zisiga & Jordan ‚Äî November 2026"/>
  <meta
    property="og:description"
    content="Join us for our wedding celebration at Sanctuary Farm, Naivasha, Kenya. November 27‚Äì29, 2026."
/>
  <meta property="og:type" content="website"/>
  <meta property="og:image" content="photos/wedding-collage-preview.png"/>

  <!-- Favicon -->
  <link
    rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíç</text></svg>"
/>

  <!-- Performance: font connection -->
  <link rel="preconnect" href="https://skuma.wiki" crossorigin/>

  <!-- Fonts -->
  <link
    rel="preload"
    as="font"
    href="https://skuma.wiki/fonts/signifier-regular.woff2"
    type="font/woff2"
    crossorigin
/>
  <link
    rel="preload"
    as="font"
    href="https://skuma.wiki/fonts/metric-regular.woff2"
    type="font/woff2"
    crossorigin
/>

  <style>
    @font-face {
      font-family: 'Signifier';
      src: url("https://skuma.wiki/fonts/signifier-regular.woff2") format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'Signifier';
      src: url("https://skuma.wiki/fonts/signifier-bold.woff2") format('woff2');
      font-weight: 800;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'Signifier';
      src: url("https://skuma.wiki/fonts/signifier-black.woff2") format('woff2');
      font-weight: 900;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'Metric';
      src: url("https://skuma.wiki/fonts/metric-regular.woff2") format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    :root {
      --primary: #091410;
      --secondary: rgba(42,56,48,0.50);
      --tertiary: rgba(42,56,48,0.30);
      --rule: rgba(42,56,48,0.08);

      --surface: #E9EBE6;
      --surface-alt: #CDD3C8;

      --accent: #C8E868;
      --accent-cool: #8DE8B0;
      --accent-warm: #D0F5B0;

      --ink: #091410;
      --mist: #142420;

      --on-dark: #9AAC98;
      --on-dark-dim: rgba(154,172,152,0.55);
      --on-dark-dimmer: rgba(154,172,152,0.30);
      --on-dark-rule: rgba(154,172,152,0.08);
    }

    html {
      scroll-behavior: smooth;
    }

    @media (prefers-reduced-motion: reduce) {
      html {
        scroll-behavior: auto;
      }
      *,
      *::after,
      *::before {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    *,
    *::after,
    *::before {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Signifier', Georgia, serif;
      font-size: 1.5rem;
      line-height: 1.4;
      font-weight: 400;
      color: var(--primary);
      background: var(--surface);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* Lock body scroll when modals are open */
    body.modal-open {
      overflow: hidden;
    }

    ::selection {
      background: var(--primary);
      color: var(--surface);
    }

    .page {
      margin: 0 auto;
      padding: 0 1.5rem;
      max-width: 55rem;
      min-height: 80vh;
      display: grid;
      align-content: center;
    }

    .faq {
      font-family: 'Signifier', Georgia, serif;
      padding: 2rem 0;
    }

    /* ---- Hero ---- */
    /* ---- Hero (fixed centered text, drifting images) ---- */
    .hero {
      position: relative;
      width: 100%;
      height: 100vh;
      min-height: 100vh;
      background: var(--ink);
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    .hero-pin {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      background: var(--ink);
    }

    /* Photo field */
    .hero-photos {
      position: absolute;
      inset: 0;
      z-index: 1;
      pointer-events: none;

    }

    .hero-photo {
      position: absolute;
      overflow: hidden;
      pointer-events: auto;
      will-change: transform;
      background: var(--surface-alt);
      transform: translateZ(0);
      backface-visibility: hidden;

    }

    /* Your screenshot reads like full-bleed film: soften edges, avoid heavy borders */
    .hero-photo img {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      transform: translateZ(0);
    }

    /* Centered text stays visually fixed */
    .hero-text {
      position: absolute;
      inset: 0;
      z-index: 3;
      display: grid;
      grid-template-rows: 1fr auto 1fr;
      align-items: center;
      justify-items: center;
      text-align: center;
      padding: 3.5rem 1.25rem 3rem;
      pointer-events: none;
      color: rgba(255,255,255,0.92);
      padding-top: 70vh;
    }

    /* Typography matches your preferred ‚Äústiff‚Äù invite card feel */
    .hero-names {
      text-transform: uppercase;
      font-family: 'Signifier', Georgia, serif;
      color: var(--on-dark);
      font-size: 1.5rem;
      font-weight: 800;
      line-height: 1.15;
      letter-spacing: 0.02em;
      margin: 0 auto;
      text-shadow: 0 6px 30px rgba(0, 0, 0, 0.35);
    }

    .hero-invite {
      font-family: 'Signifier', Georgia, serif;
      font-size: 2rem;
      font-weight: 400;
      line-height: 1.15;
      color: var(--on-dark);
      margin: 0 auto;
      text-wrap: balance;
      text-shadow: 0 6px 30px rgba(0, 0, 0, 0.35);
    }

    .hero-bottom {
      font-family: 'Signifier', Georgia, serif;
      font-size: 2rem;
      font-weight: 400;
      line-height: 1.15;
      color: var(--on-dark);
      margin: 0 auto;
      text-wrap: balance;
      text-shadow: 0 6px 30px rgba(0, 0, 0, 0.35);
    }

    /* Desktop photo placements: big ‚Äúfilm‚Äù shapes, lots of negative space */
    .hero-photo--1 {
      width: 24vw;
      aspect-ratio: 3/4;
      top: 10vh;
      left: 6vw;
    }
    .hero-photo--2 {
      width: 18vw;
      aspect-ratio: 4/3;
      top: 8vh;
      right: 7vw;
    }
    .hero-photo--4 {
      width: 22vw;
      aspect-ratio: 3/4;
      top: 35vh;
      right: 9vw;
    }
    .hero-photo--5 {
      width: 16vw;
      aspect-ratio: 4/5;
      bottom: 11vh;
      left: -4vw;
    }
    /* edge crop */
    .hero-photo--6 {
      width: 18vw;
      aspect-ratio: 3/2;
      bottom: 8vh;
      right: -5vw;

    }
    /* edge crop */

    /* Mobile: prevent collisions, keep the text readable */
    @media (max-width: 40em) {
      .hero-text {
        padding-top: 70vh;
      }

      /* Push photos further out so type stays clean */
      .hero-photo--1 {
        width: 54vw;
        top: 8vh;
        left: -14vw;
      }
      .hero-photo--2 {
        width: 46vw;
        top: 6vh;
        right: -16vw;
      }
      .hero-photo--3 {
        width: 38vw;
        top: 56vh;
        left: -16vw;
      }
      .hero-photo--4 {
        width: 54vw;
        top: 20vh;
        right: -10vw;
      }
      .hero-photo--5 {
        width: 42vw;
        bottom: 32vh;
        left: -20vw;
      }
      .hero-photo--6 {
        width: 30vw;
        bottom: 32vh;
        right: -5vw;
      }
    }

    /* Reduced motion: keep everything still */
    @media (prefers-reduced-motion: reduce) {
      .hero-photo {
        transform: none !important;
      }
    }

    .wedding-main-img {
      display: block;
      margin: 0 auto;
      max-width: 800px;
      height: auto;
    }

    @media (max-width: 768px) {
      .wedding-main-img {
        max-width: 100%;
        width: 100%;
      }
    }

    .gap {
      height: 3rem;
    }
    .gap-sm {
      height: 1.5rem;
    }

    hr {
      border: none;
      border-top: 1px solid var(--rule);
      margin: 2rem 0;
    }

    a {
      color: inherit;
      text-decoration: underline;
      text-underline-offset: 0.15em;
      transition: opacity 0.2s;
    }
    a:hover {
      opacity: 0.5;
    }

    /* ---- Nav ---- */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      display: flex;
      align-items: stretch;
      height: 2.75rem;
      padding: 0 1.5rem;
      background: rgba(237,235,230,0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      will-change: transform;
    }
    .nav[aria-hidden="true"] {
      transform: translateY(-100%);
    }

    .nav a {
      position: relative;
      display: flex;
      align-items: center;
      padding: 0 1rem;
      font-family: 'Signifier', Georgia, serif;
      font-size: 1.5rem;
      white-space: nowrap;
      color: var(--primary);
      text-decoration: none;
      transition: color 0.3s;
      cursor: pointer;
      user-select: none;
    }

    .nav a:first-child {
      padding-left: 0;
    }
    .nav a:last-child {
      padding-right: 0;
    }

    .nav a:hover {
      color: var(--secondary);
      opacity: 1;
    }

    .nav a[aria-current] {
      color: var(--primary);
      flex: 1;
    }

    .nav a::before {
      content: '';
      position: absolute;
      top: 5px;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--rule);
      transition: background 0.3s;
    }
    .nav a[aria-current]::before {
      background: var(--primary);
    }
    .nav a:hover::before {
      background: var(--tertiary);
    }
    .nav a[aria-current]:hover::before {
      background: var(--primary);
    }

    @media (max-width: 40em) {
      .nav {
        height: 2.5rem;
        padding: 0 1rem;
        overflow-x: auto;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
        gap: 0.25rem;
        scrollbar-width: none;
      }
      .nav::-webkit-scrollbar {
        display: none;
      }

      .nav a {
        flex: 0 0 auto;
        font-size: 1.1rem;
        padding: 0 0.75rem;
      }
      .nav a[aria-current] {
        flex: 0 0 auto;
      }
    }

    @media (max-width: 30em) {
      .nav {
        padding: 0 0.75rem;
      }
      .nav a {
        padding: 0 0.4rem;
      }
    }

    /* ---- Sections ---- */
    section {
      padding: 6rem 0 4rem;
    }
    section + section {
      border-top: 1px solid var(--rule);
    }

    section + section.dark,
    section + section.muted,
    section.dark + section,
    section.dark + section.dark,
    section.dark + section.light,
    section.light + section.dark,
    section.muted + section {
      border-top: none;
    }

    /* ‚Äî Dark sections ‚Äî */
    section.dark {
      background: var(--ink);
      color: var(--on-dark);
      margin: 0;
      padding: 4rem 0;
    }
    section.dark hr {
      border-color: var(--on-dark-rule);
    }
    section.dark a {
      color: var(--on-dark);
    }
    section.dark .dim {
      color: var(--on-dark-dim);
    }
    section.dark .dimmer {
      color: var(--on-dark-dimmer);
    }

    /* ‚Äî Light sections ‚Äî */
    section.light {
      background: var(--surface);
      color: var(--primary);
      padding: 4rem 0;
    }
    section.light hr {
      border-color: var(--rule);
    }
    section.light a {
      color: var(--primary);
    }
    section.light .dim {
      color: var(--secondary);
    }
    section.light .dimmer {
      color: var(--tertiary);
    }

    /* ‚Äî Muted sections ‚Äî */
    section.muted {
      background: var(--surface-alt);
      color: var(--primary);
      padding: 4rem 0;
    }

    /* ---- Typography ---- */
    h1 {
      text-transform: uppercase;
      font-family: 'Signifier', Georgia, serif;
      font-size: 2rem;
      font-weight: 900;
      line-height: 1.15;
      letter-spacing: 0.02em;
      margin: 0 auto;
      text-shadow: 0 6px 30px rgba(0,0,0,0.35);
    }

    @media (max-width: 30em) {
      h1 {
        font-size: 1.6rem;
      }
      .dek {
        font-size: 1.4rem;
      }
    }

    h2 {
      text-transform: uppercase;
      max-width: 10rem;
      font-family: 'Signifier', Georgia, serif;
      font-size: 1.5rem;
      font-weight: 900;
      line-height: 1.15;
      margin-bottom: 2rem;
      margin-top: 4rem;
    }

    .dek {
      font-family: 'Signifier', Georgia, serif;
      font-size: 2rem;
      font-weight: 400;
      line-height: 1.15;
      margin: 0 auto;
      text-wrap: balance;
      text-shadow: 0 6px 30px rgba(0,0,0,0.35);
    }

    .rsvp {
      font-family: 'Signifier', Georgia, serif;
      font-size: 2rem;
      font-weight: 800;
      line-height: 1.15;
      margin: 0 auto;
      text-wrap: balance;
      margin-bottom: 0.5rem;
    }

    p {
      font-family: 'Signifier', Georgia, serif;
      margin-bottom: 0.5rem;
    }
    p:last-child {
      margin-bottom: 0;
    }

    .dim {
      color: var(--secondary);
    }
    .dimmer {
      color: var(--tertiary);
    }

    /* ---- About ---- */
    .about-cols {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4.5rem;
    }
    .about-col {
      max-width: 52ch;
    }
    .about-col p {
      margin-bottom: 1rem;
    }
    .about-col em {
      font-style: italic;
    }

    .about-photo {
      margin: 1.5rem 0;
      overflow: hidden;
    }
    .about-photo img {
      width: 100%;
      height: auto;
      display: block;
      filter: grayscale(0.3);
      transition: filter 0.5s;
    }
    .about-photo:hover img {
      filter: grayscale(0);
    }

    @media (max-width: 40em) {
      .about-cols {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
    }

    /* ---- Transcript ---- */
    .transcript p {
      margin-bottom: 0.75rem;
    }
    .transcript-direction {
      color: var(--on-dark-dim);
      margin-bottom: 1.5rem !important;
      font-size: 1.25rem;
    }
    .transcript-question {
      font-weight: 800;
      margin-top: 2rem !important;
      margin-bottom: 1rem !important;
    }
    .transcript hr {
      border-color: var(--on-dark-rule);
      margin: 2rem 0;
    }

    .transcript-media {
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.35s ease, transform 0.35s ease;
      pointer-events: none;
    }
    .transcript-media.is-visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    /* Highlight styling */
    .hl {
      color: var(--accent);
      border: 2px solid var(--accent);
      padding: 0 0.2rem;
      border-radius: 0.15rem;
      cursor: pointer;
      transition: opacity 0.2s;
      user-select: none;
    }
    .hl:hover {
      opacity: 0.75;
    }
    .hl[aria-selected="true"] {
      outline: 2px solid rgba(255,255,255,0.25);
    }
    @media (max-width: 40em) {
      .hl {
        padding: 0.25rem 0.4rem;
        -webkit-tap-highlight-color: transparent;
      }
    }

    /* Desktop right-column media panel */
    .transcript-media {
      position: relative;
      border: 2px solid var(--accent);
      background: var(--ink);
    }
    .transcript-media img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
      aspect-ratio: 4 / 3;
      filter: grayscale(0.15);
      transition: filter 0.4s, transform 0.4s;
    }
    .transcript-media:hover img {
      filter: grayscale(0);
      transform: scale(1.01);
    }

    @media (max-width: 40em) {
      .transcript-media-wrap {
        display: none;
      }
    }

    @media (min-width: 40.01em) {
      .transcript-media-wrap {
        position: sticky;
        top: 5rem;
        align-self: start;
      }
    }

    /* Mobile transcript image overlay */
    .transcript-overlay {
      position: fixed;
      inset: 0;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.25rem;
      background: rgba(27,31,27,0.75);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.25s, visibility 0.25s;
    }
    .transcript-overlay.is-visible {
      opacity: 1;
      visibility: visible;
    }
    .transcript-overlay-card {
      position: relative;
      width: 100%;
      max-width: 30rem;
      background: var(--ink);
      border: 1px solid var(--on-dark-rule);
      overflow: hidden;
      transform: translateY(10px) scale(0.98);
      transition: transform 0.25s;
    }
    .transcript-overlay.is-visible .transcript-overlay-card {
      transform: translateY(0) scale(1);
    }
    .transcript-overlay-card img {
      width: 100%;
      height: auto;
      display: block;
      aspect-ratio: 4 / 3;
      object-fit: cover;
      filter: grayscale(0.1);
    }
    .transcript-overlay-close {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      width: 2.5rem;
      height: 2.5rem;
      border: none;
      border-radius: 0;
      background: rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.9);
      font-size: 1.75rem;
      line-height: 1;
      cursor: pointer;
      transition: background 0.2s;
    }
    .transcript-overlay-close:hover {
      background: rgba(255,255,255,0.16);
    }

    /* ---- Schedule ---- */
    .day {
      margin-top: 3rem;
      margin-bottom: 3rem;
    }
    .day:last-child {
      margin-bottom: 0;
    }
    .day p:first-child {
      margin-bottom: 0.75rem;
      text-decoration: underline;
      font-weight: 800;
    }

    .map {
      width: 100%;
      aspect-ratio: 16 / 9;
      border: 1px solid var(--rule);
      overflow: hidden;
      margin: 1.5rem 0;
    }
    .map iframe {
      width: 100%;
      height: 100%;
      border: 0;
      filter: grayscale(1) contrast(1.05);
      transition: filter 0.5s;
    }
    .map:hover iframe {
      filter: grayscale(0.5) contrast(1);
    }

    /* ---- Packing / Map Triggers ---- */
    .map-trigger,
    .packing-trigger {
      background-color: var(--accent);
      color: var(--ink);
      text-decoration: underline;
      text-underline-offset: 0.15em;
      padding: 0 0.25rem;
    }
    .map-trigger:hover,
    .packing-trigger:hover {
      opacity: 0.7;
    }

    section.light .map-trigger,
    section.light .packing-trigger {
      background-color: var(--accent);
      color: var(--ink);
    }

    .packing-overlay {
      position: fixed;
      inset: 0;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      background: rgba(15,26,15,0.6);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s, visibility 0.4s;
    }
    .packing-overlay.is-visible {
      opacity: 1;
      visibility: visible;
    }
    .packing-card {
      position: relative;
      background: var(--accent);
      color: var(--ink);
      max-width: 55rem;
      width: 100%;
      padding: 3rem;
      transform: translateY(16px) scale(0.98);
      transition: transform 0.4s;
    }
    .packing-overlay.is-visible .packing-card {
      transform: translateY(0) scale(1);
    }
    .packing-card h3 {
      font-size: 3rem;
      font-weight: 400;
      line-height: 1;
      margin-bottom: 2rem;
    }
    .packing-close {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background: none;
      border: none;
      font-size: 4rem;
      cursor: pointer;
      color: rgba(27,31,27,0.3);
      transition: color 0.2s;
      font-family: 'Signifier', Georgia, serif;
      line-height: 1;
    }
    .packing-close:hover {
      color: var(--ink);
    }

    .packing-cols {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
    }
    .packing-cat {
      font-weight: 800;
      margin-bottom: 0.5rem;
      font-size: 1.125rem;
    }
    .packing-cols p {
      font-size: 1.5rem;
      line-height: 1;
    }
    @media (max-width: 30em) {
      .packing-card {
        padding: 2rem;
      }
      .packing-card h3 {
        font-size: 2.25rem;
      }
      .packing-cols {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
    }

    /* ---- Accordion ---- */
    .accordion details {
      border-top: 1px solid var(--rule);
    }
    .accordion details:last-child {
      border-bottom: 1px solid var(--rule);
    }
    .accordion summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.5rem 0;
      font-family: 'Signifier', Georgia, serif;
      font-size: 3.5rem;
      font-weight: 300;
      line-height: 1;
      cursor: pointer;
      list-style: none;
      user-select: none;
      transition: opacity 0.2s;
    }
    .accordion summary:hover {
      opacity: 0.6;
    }
    .accordion summary::-webkit-details-marker {
      display: none;
    }
    .accordion summary::marker {
      content: '';
    }
    .accordion summary::after {
      content: '+';
      font-size: 3rem;
      font-weight: 300;
      color: var(--tertiary);
      transition: transform 0.3s;
      flex-shrink: 0;
      margin-left: 2rem;
    }
    details[open] summary::after {
      content: '‚àí';
      /* proper minus sign, not hyphen */
      font-size: 3rem;
      font-weight: 300;
    }
    .accordion-body {
      padding-bottom: 1.5rem;
    }

    dt {
      font-weight: 800;
      margin-bottom: 1.5rem;
    }
    dd {
      margin-bottom: 1.5rem;
    }

    section.dark .accordion details {
      border-color: var(--on-dark-rule);
    }
    section.dark .accordion details:last-child {
      border-color: var(--on-dark-rule);
    }
    section.dark .accordion summary::after {
      color: var(--on-dark-dimmer);
    }

    /* ---- RSVP Form ---- */
    .rsvp-choices {
      display: flex;
      gap: 0.75rem;
      margin-top: 0.75rem;
    }
    .rsvp-choices button {
      flex: 1;
      padding: 0.875rem 1rem;
      background: transparent;
      border: 1px solid var(--on-dark-rule);
      border-radius: 0;
      font-family: 'Signifier', Georgia, serif;
      font-size: 1.5rem;
      color: var(--on-dark);
      cursor: pointer;
      transition: background 0.3s, border-color 0.3s, color 0.3s;
    }
    .rsvp-choices button:hover {
      border-color: var(--on-dark-dim);
    }
    .rsvp-choices button[aria-pressed="true"] {
      background: var(--accent);
      border-color: var(--accent);
      color: var(--ink);
    }
    .rsvp-fields {
      display: none;
      flex-direction: column;
      gap: 0.25rem;
      margin-top: 1.25rem;
    }
    .rsvp-fields.is-visible {
      display: flex;
      animation: slideIn 0.4s;
    }
    .rsvp-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.25rem;
    }
    input[type="text"],
    input[type="email"],
    select {
      width: 100%;
      padding: 0.75rem 0;
      border: none;
      border-bottom: 1px solid var(--on-dark-rule);
      background: transparent;
      font-family: 'Signifier', Georgia, serif;
      font-size: 1.5rem;
      color: var(--on-dark);
      outline: none;
      border-radius: 0;
      transition: border-color 0.2s;
    }
    input:focus,
    select:focus {
      border-color: var(--on-dark);
    }
    input::placeholder {
      color: var(--on-dark-dimmer);
    }
    select {
      cursor: pointer;
      -webkit-appearance: none;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath fill='none' stroke='%23EDEBE6' stroke-opacity='0.4' stroke-width='1.5' d='M1 1l4 4 4-4'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right center;
    }
    select option {
      background: var(--ink);
      color: var(--on-dark);
    }
    .rsvp-submit {
      margin-top: 2rem;
      padding: 0.75rem 2rem;
      background: var(--accent);
      color: var(--ink);
      border: none;
      border-radius: 0;
      font-family: 'Signifier', Georgia, serif;
      font-size: 1.5rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    .rsvp-submit:hover {
      background: var(--accent-warm);
    }
    .rsvp-submit:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    @media (max-width: 30em) {
      .rsvp-choices {
        flex-direction: column;
      }
      .rsvp-row {
        grid-template-columns: 1fr;
      }
    }

    /* ---- Modal ---- */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(15,26,15,0.6);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s, visibility 0.4s;
    }
    .modal-overlay.is-visible {
      opacity: 1;
      visibility: visible;
    }
    .modal-overlay .modal-card {
      background: var(--surface);
      max-width: 24rem;
      width: 100%;
      padding: 3rem;
      border: none;
      text-align: center;
      margin: 0 auto;
      color: var(--primary);
      transform: translateY(16px) scale(0.98);
      transition: transform 0.4s;
    }
    .modal-overlay.is-visible .modal-card {
      transform: translateY(0) scale(1);
    }
    .modal-overlay .icon {
      font-size: 4rem;
      margin-bottom: 0.75rem;
      display: block;
    }
    .modal-overlay h3 {
      font-size: 1.5rem;
      font-weight: 400;
      margin-bottom: 0.5rem;
    }
    .modal-overlay p {
      font-size: 1.5rem;
      color: var(--secondary);
      line-height: 1.5;
      margin-bottom: 1.5rem;
    }
    .modal-overlay button {
      padding: 0.625rem 1.5rem;
      background: var(--ink);
      color: var(--on-dark);
      border: none;
      border-radius: 0;
      font-family: 'Signifier', Georgia, serif;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    .modal-overlay button:hover {
      background: var(--mist);
    }

    /* ---- Footer ---- */
    footer {
      padding: 3rem 0;
      font-size: 1.5rem;
      font-weight: 400;
      color: var(--ink);
      text-align: center;
      background: var(--accent);
    }

    /* ---- Animations ---- */
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes shake {
      0%,
      100% {
        transform: translateX(0);
      }
      20% {
        transform: translateX(-6px);
      }
      40% {
        transform: translateX(6px);
      }
      60% {
        transform: translateX(-4px);
      }
      80% {
        transform: translateX(4px);
      }
    }
  </style>
</head>

<body>
  <!-- Navigation -->
  <nav class="nav" id="nav" aria-hidden="true" aria-label="Page navigation">
    <a href="#hero" data-to="hero">The Invitation</a>
    <a href="#love-birds" data-to="love-birds">The Love Birds</a>
    <a href="#schedule" data-to="schedule">The Weekend</a>
    <a href="#travel" data-to="travel">Getting There</a>
    <a href="#stay" data-to="stay">Where to Stay</a>
    <a href="#faq" data-to="faq">Good to Know</a>
  </nav>

  <!-- Hero -->
  <section class="hero" id="hero">
    <div class="hero-pin" id="heroPin">
      <!-- Photos ‚Äî editorial scatter -->
      <div class="hero-photos" aria-hidden="true">
        <figure class="hero-photo hero-photo--1" data-speed="1.15">
          <img src="photos/hero-6.jpg" alt="jordan relaxes in paradise. aka lamu.">
        </figure>
        <figure class="hero-photo hero-photo--2" data-speed="0.9">
          <img src="photos/hero-9.jpg" alt="cutest baby jordan holds up his hands. he is wearing garden gloves">
        </figure>

        <figure class="hero-photo hero-photo--4" data-speed="1.05">
          <img src="photos/hero-7.jpg" alt="morning coffee with jordan" loading="eager" width="500" height="667">
        </figure>
        <figure class="hero-photo hero-photo--5" data-speed="1.2">
          <img src="photos/hero-1.jpg" alt="zisiga kindergaten portrait. the year was 1997. " loading="eager" width="400" height="500">
        </figure>
        <figure class="hero-photo hero-photo--6" data-speed="0.95">
          <img src="photos/hero-11.jpg" alt="zisiga holding polaroid photo that strangers took of us by the beach when we got engaged" loading="eager" width="500" height="333">
        </figure>
      </div>

      <!-- Text ‚Äî fixed, centered (matches your screenshot) -->
      <div class="hero-text" aria-label="Wedding invitation">
        <div class="hero-top">
          <div class="hero-names">Zisiga &amp; Jordan</div>
          <div class="gap-sm"></div>
          <div class="hero-invite">
          We invite you to celebrate<br>
          our wedding with us.
        </div>
        </div>

        <div class="hero-bottom">
          <div>November 27‚Äì29, 2026</div>
          <div>Naivasha ¬∑ Kenya</div>
        </div>
      </div>
    </div>
  </section>
  <!-- About -->
  <section class="dark" id="love-birds">
    <picture>
      <source media="(max-width: 768px)" srcset="photos/wedding-main-mobile.jpg">
      <img src="photos/wedding-main.jpg" loading="lazy" alt="Zisiga and Jordan collage" class="wedding-main-img">
    </picture>
    <div class="page">
      <h2>About</h2>
      <div class="about-cols">
        <div class="about-col">
          <p>We met on Bumble in September 2023. Jordan had just moved to New York a couple of months earlier, and Zisiga had been in and out of the city since 2019. Our first date was an Allah-Las show in Bushwick. A great night turned into a second date, and then a third.</p>
          <p>Everything has felt easy when we‚Äôre together. We laugh constantly, challenge each other, and love watching the other come up with ideas and bring them to life.</p>
          <p>Six months in, we were looking for our first apartment, running around the city picking things up on Facebook Marketplace and slowly making a home. It turns out we‚Äôre happiest when we‚Äôre building something side by side.</p>

        </div>
        <div class="about-col">
          <p>Zisiga grew up in Nairobi, and Jordan has fallen in love with Kenya ‚Äî the landscape, the humor, the warmth, and the nyama choma.</p>
          <p>We can‚Äôt wait to host you at Sanctuary Farm in Naivasha. It‚Äôs calm and open, surrounded by nature, and a place where you can sit outside, eat well, and watch wild animals wander by. We‚Äôd love for you to be there with us.</p>
        </div>
      </div>

      <div class="gap"></div>

      <div class="accordion">
        <div class="about-cols">
          <!-- transcript -->
          <div class="about-col">
            <details>
              <summary>A tad bit more</summary>
              <div class="accordion-body transcript">
                <p class="transcript-direction">
                  <em>We sat down to have a random conversation and recorded it. Here‚Äôs a lightly edited transcript of that conversation, which includes a few of the qs we asked each other.</em>
                </p>

                <p>
                  <strong>Z:</strong> You ready?</p>
                <p>
                  <strong>J:</strong> Mm mm.</p>

                <p class="transcript-question">What‚Äôs a small, unremarkable moment with your partner that you think about more than you probably should?</p>

                <p>
                  <strong>Z:</strong> ...there were so many times we‚Äôd spend hours laughing and sharing stories. We always go back to this phrase <span class="hl" data-key="up-all-night" role="button" tabindex="0" aria-label="View photo: Up all night">"up all night"</span>. It felt like we could be children together and just excited to talk to each other all night. I think about that a lot.</p>
                <p>
                  <strong>J:</strong> That‚Äôs always fun.</p>

                <p class="transcript-question">What something that you were wrong about?</p>

                <p>
                  <strong>J:</strong> So many things. But‚Ä¶ I didn‚Äôt think I‚Äôd get married. Friends always said I would be the last one to get married. I didn‚Äôt think it would happen at all. I just had never met the right person.</p>
                <p>
                  <strong>Z:</strong> Mm. That‚Äôs nice.</p>

                <p class="transcript-question">What‚Äôs the most useless skill you have that your partner finds inexplicably attractive?</p>

                <p>
                  <strong>Z:</strong> When I try to do handiwork ‚Äî which is a lack of skill ‚Äî but you get really excited about me doing the basic stuff.</p>
                <p>
                  <strong>J:</strong> Have you finished ‚Äî stopped, uh, the recording?</p>
                <p>
                  <strong>Z:</strong> No.</p>

                <p>
                  <strong>J:</strong> This isn‚Äôt always a useless skill because it has gotten us free things, but I love the way you banter and chat with everyone -- with the uber drivers, deli guys and airport security. I love watching how much fun people have interacting with you.</p>

                <p>
                  <strong>Z:</strong> Aww. Thank you bebe!</p>

                <p class="transcript-question">What did love look like in the house you grew up in?</p>

                <p>
                  <strong>J:</strong> Commitment. Forgiveness. Staying together even when it‚Äôs hard. And my parents always encouraging us and wanting the best for us.</p>

                <p class="transcript-question">What‚Äôs the most boring thing you do together that somehow became sacred?</p>

                <p>
                  <strong>J:</strong> Scrolling <span class="hl" data-key="marketplace" role="button" tabindex="0" aria-label="View photo: Facebook Marketplace">Facebook Marketplace</span>.</p>
                <p>
                  <strong>Z:</strong> [Laughs] <em>because it‚Äôs true.</em>
                </p>

                <p class="transcript-question">What‚Äôs a habit of theirs that annoyed you at first but now feels like home?</p>

                <p>
                  <strong>Z:</strong> You walking ahead of me too fast.</p>
                <p>
                  <strong>J:</strong> I thought you were going to say that I kick off my shoes when I get home and they hit the wall.</p>
                <p>
                  <strong>Z:</strong> That still annoys me.</p>

                <p class="transcript-question">What‚Äôs a meal you‚Äôve eaten together that you‚Äôll never forget ‚Äî and why wasn‚Äôt it about the food?</p>

                <p>
                  <strong>Z:</strong> For me, it was the dinner at Dr Clark, on my birthday. But does that make me sound like a basic bitch, saying that I liked it because of presents? What about you?</p>
                <p>
                  <strong>J:</strong> Hmm. The <span class="hl" data-key="mexico-city" role="button" tabindex="0" aria-label="View photo: Mexico City tacos">Mexico City tacos</span>.</p>
                <p>
                  <strong>Z:</strong> Oh, but that was about the food.</p>
                <p>
                  <strong>J:</strong> Yeah, but it was also the day wandering the city and ending up there. Or the dinner on the little <span class="hl" data-key="lamu" role="button" tabindex="0" aria-label="View photo: Boat in Lamu">boat in Lamu.</span></p>
                <p>
                  <strong>Z:</strong> That was awesome.</p>
              </div>
            </details>
          </div>

          <!-- desktop image panel -->
          <div class="about-col transcript-media-wrap">
            <div class="transcript-media" id="transcriptMedia">
              <img id="transcriptMediaImg" src="photos/us.jpg" alt="" loading="lazy" width="600" height="450">
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- RSVP -->
  <section class="dark">
    <div class="page" style="text-align: center;">
      <p class="rsvp">RSVP</p>
      <p class="dim">Please get back to us by May 15, 2026.</p>
      <form id="rsvpForm" novalidate>
        <p class="dim">Will you join us?</p>
        <div class="gap"></div>
        <div class="rsvp-choices" role="group" aria-label="RSVP choice">
          <button type="button" id="btnYes" aria-pressed="false">Joyfully Accept</button>
          <button type="button" id="btnNo" aria-pressed="false">Regretfully Decline</button>
        </div>
        <div class="rsvp-fields" id="acceptFields">
          <div class="rsvp-row">
            <input type="text" name="name" placeholder="Name(s)" autocomplete="name">
            <input type="email" name="email" placeholder="Email address" autocomplete="email">
          </div>
          <div class="rsvp-row">
            <input type="text" name="phone" placeholder="Phone number" autocomplete="tel">
            <input type="text" name="dietary" placeholder="Dietary restrictions or accessibility needs">
          </div>
          <select name="accommodation">
            <option value="">Accommodation preference</option>
            <option value="own">I‚Äôll arrange my own</option>
            <option value="help">Need help deciding</option>
          </select>
          <select name="shuttle">
            <option value="">Transportation to Naivasha</option>
            <option value="need">I need a shuttle to Naivasha</option>
            <option value="own">I will get there on my own</option>
            <option value="unsure">I don‚Äôt know yet</option>
          </select>
        </div>
        <div class="rsvp-fields" id="declineFields">
          <div class="rsvp-row">
            <input type="text" name="declineName" placeholder="Name(s)" autocomplete="name">
          </div>
          <input type="text" name="declineMessage" placeholder="Send a message (optional)">
        </div>
        <button type="submit" class="rsvp-submit" id="submitBtn">Submit RSVP</button>
      </form>
    </div>
  </section>

  <!-- Schedule -->
  <section class="light" id="schedule">
    <div class="page">
      <h2>The Wedding Weekend</h2>
      <div id="scheduleList"></div>
    </div>
  </section>

  <!-- Travel -->
  <section class="light" id="travel">
    <div class="page">
      <h2>Getting<br>There</h2>
      <p>Fly into Nairobi‚Äôs Jomo Kenyatta International Airport (NBO). We recommend arriving at least on Thursday with a buffer night for a well rested start.</p>
      <div class="gap-sm"></div>
      <p>Getting around Nairobi is easiest by Uber. It‚Äôs reliable, widely available, and affordable. You‚Äôll see Uber Chapchap for shorter trips. If you‚Äôre feeling adventurous, Matatus are fun, but Uber is the simplest option.</p>
      <hr>
      <p style="font-weight: 800;">Shuttles</p>
      <p>Shuttles will be available for everyone attending ‚Äî not just out-of-town visitors. Getting to Naivasha, we‚Äôve gotchu.</p>
      <p>We‚Äôre working on arranging group shuttles between Nairobi and Naivasha for the main arrival and departure days. Details will be shared as we get closer.</p>
      <p class="dim">Nairobi ‚ñ∏ Naivasha ‚Äî To be confirmed<br>Naivasha ‚ñ∏ Nairobi ‚Äî To be confirmed</p>
      <div class="gap-sm"></div>
    </div>
  </section>

  <!-- Where to Stay -->
  <section class="dark" id="stay">
    <div class="page">
      <h2>Where<br>to Stay</h2>
      <div class="about-cols">
        <div class="about-col">
          <p>We‚Äôre putting together a list of places to stay in and around Naivasha, including options on Sanctuary Farm and nearby hotels and Airbnbs. Details coming soon.</p>
        </div>
        <div class="about-col">
          <div class="about-photo">
            <img src="https://www.kenya-experience.com/wp-content/uploads/2024/12/crescent-island-walk-zebras.jpg" alt="Zebras near Lake Naivasha" loading="lazy" width="600" height="400">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="muted" id="faq">
    <div class="page">
      <h2>Good<br>to Know</h2>
      <div class="accordion">
        <details>
          <summary>Before You Go</summary>
          <div class="accordion-body">
            <dl class="faq">
              <dt>Do I need a visa?</dt>
              <dd>If you have to ask, then you need a visa. Kenya‚Äôs e-visa costs $30 and takes about 10 minutes to complete. Apply at least two weeks before travel. <a href="https://www.etakenya.go.ke" target="_blank" rel="noopener">Apply for a Kenya e-visa</a>.</dd>
              <dt>When should I buy my flight?</dt>
              <dd>

              Jordan and I are the worst people to ask this question but since you are here.. "The best time was yesterday. The next best time is now." It‚Äôs hard to predict how long the low season will last, but prices are unlikely to dip much lower than what‚Äôs online right now. 
<br>


If 10 or more of you are flying through New York on Kenya Airways on the same dates, please reach out ‚Äî we may be able to coordinate a group rate. </dd>
              <<dt>When should I arrive?</dt>
              <dd>We recommend arriving Thursday, November 26 at the latest, and staying in Nairobi that night. We‚Äôll have a few shuttle pick up points around Nairobi and it might be good to stay near one of them.</dd>
              <dt>What should I pack?</dt>
              <dd>November is Kenya‚Äôs short rains season, with warm days and occasional afternoon showers. Bring light layers, a rain jacket, and comfortable shoes. The ceremony is semi-formal, plan to shine!
                <p class="dim">
                  <a href="#" class="packing-trigger">here‚Äôs a packing list</a>
                </p>
              </dd>
            </dl>
          </div>
        </details>
        <details>
          <summary>While you‚Äôre Here</summary>
          <div class="accordion-body">
            <dl class="faq">
              <dt>Exploring Nairobi</dt>
              <dd>There is so much to do, see, and eat in Nairobi. We recommend spending at least a few days in the city if you can. We‚Äôve put together a map of some of our favorite spots around the city.<br>
                <a href="https://www.google.com/maps/@/data=!3m1!4b1!4m2!11m1!2sZzfmeTI5RGqd3g_nUg5PHQ?g_ep=CAISEjI2LjA2LjIuODY0NDM1MTkzMBgAILffASpbLDk0Mjk3Njk5LDk0Mjg0NDYzLDk0MjMxMTg4LDk0MjgwNTY4LDQ3MDcxNzA0LDk0MjE4NjQxLDk0MjgyMTM0LDk0MjkyMDc0LDk0Mjg2ODY5LDEwMDc5NjU4OUICR0I%3D" target="_blank" rel="noopener" class="map-trigger">here‚Äôs the map</a>.</dd>
              <dt>Money and power</dt>
              <dd>Credit cards work in Nairobi. We mostly use M-Pesa (mobile money) but you should be good with using a debit or credit card. Kenya uses Type G (UK-style) plugs.</dd>
            </dl>
          </div>
        </details>
        <details>
          <summary>Extending Your Trip</summary>
          <div class="accordion-body">
            <dl class="faq">
              <dt>Can I add a safari or beach trip?</dt>
              <dd>Absolutely. Many guests are planning to add a few days before or after the wedding. We can share recommendations for the Masai Mara, Amboseli, or the coast.</dd>
            </dl>
          </div>
        </details>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="page">
      <img src="photos/wedding-collage.png" loading="lazy" alt="Zisiga and Jordan collage" width="400" height="300" style="width: 40%; height: auto; display: block; margin: 0 auto;">
      <p>We can‚Äôt wait to see you.</p>
    </div>
    <div style="text-align: center; font-size: 1rem; color: rgba(27,31,27,0.5);">
      Last updated Feb 21st
    </div>
  </footer>

  <!-- RSVP Modal -->
  <div class="modal-overlay" id="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <span class="icon" id="modalIcon" aria-hidden="true">üíå</span>
      <h3 id="modalTitle">We can‚Äôt wait to see you</h3>
      <p id="modalMsg">Your RSVP has been received.</p>
      <button id="modalClose" type="button">Close</button>
    </div>
  </div>

  <!-- Packing Overlay -->
  <div class="packing-overlay" id="packingOverlay" aria-hidden="true">
    <div class="packing-card" role="dialog" aria-modal="true" aria-label="Packing list">
      <button class="packing-close" id="packingClose" type="button" aria-label="Close packing list">&times;</button>
      <h3>Packing List</h3>
      <div class="packing-cols">
        <div>
          <p class="packing-cat">Ceremony</p>
          <p>Semi-formal outfit</p>
          <p>Comfortable shoes</p>
          <p>A light layer for evening</p>
        </div>
        <div>
          <p class="packing-cat">Daytime</p>
          <p>Light breathable layers</p>
          <p>Comfortable walking shoes</p>
          <p>Sunglasses & sunscreen</p>
          <p>Hat or cap</p>
        </div>
        <div>
          <p class="packing-cat">Essentials</p>
          <p>Type G plug adapter</p>
          <p>e-visa</p>
        </div>
        <div>
          <p class="packing-cat">Nice to Have</p>
          <p>Binoculars for wildlife</p>
          <p>Reusable water bottle</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Transcript Overlay (mobile) -->
  <div class="transcript-overlay" id="transcriptOverlay" aria-hidden="true">
    <div class="transcript-overlay-card" role="dialog" aria-modal="true" aria-label="Transcript photo">
      <button class="transcript-overlay-close" id="transcriptOverlayClose" type="button" aria-label="Close">&times;</button>
      <img id="transcriptOverlayImg" src="photos/us.jpg" alt="" width="600" height="450">
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
  if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') {
    console.warn('GSAP/ScrollTrigger not loaded ‚Äî hero animation skipped.');
    return;
  }

  gsap.registerPlugin(ScrollTrigger);

  const heroSection = document.querySelector('.hero');
  const photos = document.querySelectorAll('.hero-photo');

  photos.forEach((photo) => {
    const speed = parseFloat(photo.dataset.speed) || 1;

    gsap.to(photo, {
      y: () => -speed * window.innerHeight * 0.6,
      ease: 'none',
      scrollTrigger: {
        trigger: heroSection,
        start: 'top top',
        end: 'bottom top',
        scrub: true,
        invalidateOnRefresh: true,
      }
    });
  });

  if (matchMedia('(prefers-reduced-motion: reduce)').matches) {
    ScrollTrigger.getAll().forEach(st => st.kill());
    gsap.set([...photos], { clearProps: 'all' });
  }
});
    /* =========================================================
       UTILITY
    ========================================================= */
    const $ = (s, el = document) => el.querySelector(s);
    const $$ = (s, el = document) => [...el.querySelectorAll(s)];

    /* =========================================================
       NAV: smooth scroll + show/hide + active link
    ========================================================= */
    const nav = $('#nav');
    const navLinks = $$('a[data-to]', nav);
    const sectionEls = navLinks.map(a => document.getElementById(a.dataset.to));

    // Nav click: CSS scroll-behavior handles smooth scroll, JS just updates hash cleanly
navLinks.forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const target = document.getElementById(link.dataset.to);
    if (target) {
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      history.replaceState(null, '', `#${link.dataset.to}`);
    }
  });
});

    let activeIndex = 0;
    let lastAutoScrollIndex = -1;
    const isMobileNav = () => matchMedia('(max-width: 40em)').matches;

    function updateNav() {
      const threshold = innerHeight * 0.4;
      let nextActive = 0;

      for (let i = sectionEls.length - 1; i >= 0; i--) {
        const el = sectionEls[i];
        if (el && el.getBoundingClientRect().top <= threshold) {
          nextActive = i;
          break;
        }
      }

      // Snap to last section if scrolled to bottom
      if (scrollY + innerHeight >= document.documentElement.scrollHeight - 10) {
        nextActive = sectionEls.length - 1;
      }

      if (nextActive !== activeIndex) {
        activeIndex = nextActive;
        navLinks.forEach((a, i) => {
          if (i === activeIndex) a.setAttribute('aria-current', 'true');
          else a.removeAttribute('aria-current');
        });

        // Mobile: keep active item centered
        if (isMobileNav() && activeIndex !== lastAutoScrollIndex) {
          navLinks[activeIndex]?.scrollIntoView({
            behavior: 'smooth',
            inline: 'center',
            block: 'nearest'
          });
          lastAutoScrollIndex = activeIndex;
        }
      }
    }

    let ticking = false;

    function onScrollRaf() {
      nav.setAttribute('aria-hidden', scrollY < 100 ? 'true' : 'false');
      updateNav();
      ticking = false;
    }

    window.addEventListener('scroll', () => {
      if (!ticking) {
        ticking = true;
        requestAnimationFrame(onScrollRaf);
      }
    }, { passive: true });

    // Initial state
    onScrollRaf();

    /* =========================================================
       SCHEDULE RENDER
    ========================================================= */
    const SCHEDULE = [
      {
        date: 'Friday, November 27, 2026',
        body: 'Shuttles will depart Nairobi around midday for the scenic drive to Naivasha. After arrival and time to settle in, join us at Sanctuary Farm for cocktails, dinner, and a welcome gathering under the stars.'
      },
      {
        date: 'Saturday, November 28, 2026',
        body: 'Guests staying in Naivasha are invited to enjoy a relaxed morning exploring the area. In the afternoon, we will gather at Sanctuary Farm, overlooking Lake Naivasha, for the ceremony and celebration, followed by dinner and drinks.<br><br>For guests joining us for the day, Sanctuary Farm is approximately 90 km from Nairobi (about a 1.5-hour drive). Parking will be available on-site.',
        map: true
      },
      {
        date: 'Sunday, November 29, 2026',
        body: 'We will close the weekend with a farewell brunch before departures. Return shuttle timing and details will be shared closer to the date.'
      }
    ];

    const MAP_EMBED = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d8430.891344949507!2d36.412963480834556!3d-0.788038505226701!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x18293d006232edf3%3A0x1ba1e997a1b96e71!2sLake%20Naivasha!5e1!3m2!1sen!2sus!4v1771782196551!5m2!1sen!2sus';
    const MAP_LINK = 'https://www.google.com/maps/dir/Jomo+Kenyatta+International+Airport,+Nairobi/Lake+Naivasha';

    const scheduleList = $('#scheduleList');
    if (scheduleList) {
      const fragment = document.createDocumentFragment();

      SCHEDULE.forEach(s => {
        const day = document.createElement('div');
        day.className = 'day';
        day.innerHTML = `
          <p>${s.date}</p>
          <p>${s.body}</p>
          ${s.map ? `
            <div class="map">
              <iframe
                src="${MAP_EMBED}"
                allowfullscreen
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="Map to Sanctuary Farm, Naivasha"
              ></iframe>
            </div>
            <p class="dimmer">Sanctuary Farm, Naivasha ¬∑ 90 km from Nairobi ¬∑ ~1.5 hours ‚Äî <a href="${MAP_LINK}" target="_blank" rel="noopener">Open in Google Maps</a></p>
          ` : ''}
        `;
        fragment.appendChild(day);
      });

      scheduleList.appendChild(fragment);
    }

    /* =========================================================
       MODAL HELPERS (shared logic)
    ========================================================= */
    function openOverlay(overlay) {
      overlay.classList.add('is-visible');
      overlay.setAttribute('aria-hidden', 'false');
      document.body.classList.add('modal-open');
    }

    function closeOverlay(overlay) {
      overlay.classList.remove('is-visible');
      overlay.setAttribute('aria-hidden', 'true');
      document.body.classList.remove('modal-open');
    }

    /* =========================================================
       RSVP FORM
    ========================================================= */
    const ENDPOINT = 'https://script.google.com/macros/s/AKfycbwxZ9rl9n-dmYLFeaNE2iA5BW0Fv0QoXubmoo8AU8SWbdLFOAFWgdkazWK2QXbu/exec';

    const form = $('#rsvpForm');
    const btnYes = $('#btnYes');
    const btnNo = $('#btnNo');
    const acceptFields = $('#acceptFields');
    const declineFields = $('#declineFields');
    const submitBtn = $('#submitBtn');
    const modal = $('#modal');

    let attending = null;

    function setAttending(yes) {
      attending = yes;
      btnYes.setAttribute('aria-pressed', yes ? 'true' : 'false');
      btnNo.setAttribute('aria-pressed', yes ? 'false' : 'true');

      acceptFields.classList.toggle('is-visible', yes);
      declineFields.classList.toggle('is-visible', !yes);

      submitBtn.textContent = yes ? 'Submit RSVP' : 'Send Regrets';
    }

    function showModal(accepted) {
      $('#modalIcon').textContent = accepted ? 'üíå' : 'üíö';
      $('#modalTitle').textContent = accepted
        ? "We can't wait to see you"
        : "We'll miss you";
      $('#modalMsg').textContent = accepted
        ? "Your RSVP has been received. Keep an eye on your inbox for updates and travel details as we get closer to November."
        : "Thank you for letting us know. We'll be thinking of you and hope to celebrate together another time.";
      openOverlay(modal);
    }

    btnYes?.addEventListener('click', () => setAttending(true));
    btnNo?.addEventListener('click', () => setAttending(false));
    $('#modalClose')?.addEventListener('click', () => closeOverlay(modal));
    modal?.addEventListener('click', e => {
      if (e.target === modal) closeOverlay(modal);
    });

    form?.addEventListener('submit', async e => {
      e.preventDefault();

      if (attending === null) {
        // Shake the buttons to indicate choice is required
        [btnYes, btnNo].forEach(b => {
          b.style.animation = 'shake 0.4s';
          b.addEventListener('animationend', () => { b.style.animation = ''; }, { once: true });
        });
        return;
      }

      submitBtn.textContent = 'Sending‚Ä¶';
      submitBtn.disabled = true;

      const val = name => $(`[name="${name}"]`)?.value?.trim() || '';

      const data = attending
        ? {
            attending: true,
            name: val('name'),
            email: val('email'),
            phone: val('phone'),
            shuttle: val('shuttle'),
            accommodation: val('accommodation'),
            dietary: val('dietary')
          }
        : {
            attending: false,
            name: val('declineName'),
            email: '',
            phone: '',
            shuttle: '',
            accommodation: '',
            dietary: val('declineMessage')
          };

      if (!data.name) {
        alert('Please enter your name.');
        submitBtn.textContent = attending ? 'Submit RSVP' : 'Send Regrets';
        submitBtn.disabled = false;
        return;
      }

      try {
        const controller = new AbortController();
        const timeout = setTimeout(() => controller.abort(), 8000);

        const res = await fetch(ENDPOINT, {
          method: 'POST',
          headers: { 'Content-Type': 'text/plain;charset=utf-8' },
          body: JSON.stringify(data),
          signal: controller.signal
        });
        clearTimeout(timeout);

        if (!res.ok) throw new Error(`HTTP ${res.status}`);

        showModal(attending);
        form.reset();
        acceptFields.classList.remove('is-visible');
        declineFields.classList.remove('is-visible');
        btnYes.setAttribute('aria-pressed', 'false');
        btnNo.setAttribute('aria-pressed', 'false');
        attending = null;
      } catch {
        alert('Something went wrong. Please try again or contact us directly.');
      } finally {
        submitBtn.textContent = 'Submit RSVP';
        submitBtn.disabled = false;
      }
    });

    /* =========================================================
       PACKING OVERLAY
    ========================================================= */
    const packingOverlay = $('#packingOverlay');

    $$('.packing-trigger').forEach(trigger => {
      trigger.addEventListener('click', e => {
        e.preventDefault();
        openOverlay(packingOverlay);
      });
    });

    $('#packingClose')?.addEventListener('click', () => closeOverlay(packingOverlay));
    packingOverlay?.addEventListener('click', e => {
      if (e.target === packingOverlay) closeOverlay(packingOverlay);
    });

    /* =========================================================
       TRANSCRIPT (desktop panel + mobile overlay)
    ========================================================= */
    const mediaImg = $('#transcriptMediaImg');
    const transcriptMediaPanel = $('#transcriptMedia');
    const transcriptArea = $('.transcript');
    const transcriptOverlay = $('#transcriptOverlay');
    const overlayImg = $('#transcriptOverlayImg');
    const highlights = $$('.hl');

    const TRANSCRIPT_MEDIA = {
      'up-all-night': { src: 'photos/up-all-night.jpg', alt: 'Up all night' },
      'marketplace':  { src: 'photos/wedding-fb-marketplace.jpg', alt: 'Facebook Marketplace' },
      'mexico-city':  { src: 'photos/mexico.jpg', alt: 'Mexico City' },
      'lamu':         { src: 'photos/wedding-lamu.jpg', alt: 'Boat in Lamu' }
    };

    const isMobileLike = () =>
      matchMedia('(hover: none)').matches || matchMedia('(max-width: 40em)').matches;

    let overlayTimer = null;

    function showTranscriptOverlay(item) {
      overlayImg.src = item.src;
      overlayImg.alt = item.alt || '';
      openOverlay(transcriptOverlay);
      clearTimeout(overlayTimer);
      overlayTimer = setTimeout(() => closeTranscriptOverlay(), 5000);
    }

    function closeTranscriptOverlay() {
      clearTimeout(overlayTimer);
      closeOverlay(transcriptOverlay);
      highlights.forEach(h => h.setAttribute('aria-selected', 'false'));
    }

    function setDesktopPanel(item) {
      mediaImg.src = item.src;
      mediaImg.alt = item.alt || '';
      transcriptMediaPanel.classList.add('is-visible');
    }

    transcriptArea?.addEventListener('mouseleave', () => {
      if (!isMobileLike()) {
        transcriptMediaPanel.classList.remove('is-visible');
      }
    });

    highlights.forEach(h => {
      const key = h.dataset.key;

      h.addEventListener('mouseenter', () => {
        if (isMobileLike()) return;
        const item = TRANSCRIPT_MEDIA[key];
        if (item) setDesktopPanel(item);
      });

      function activateHighlight(e) {
        e.preventDefault();
        e.stopPropagation();
        const item = TRANSCRIPT_MEDIA[key];
        if (!item) return;

        highlights.forEach(x => x.setAttribute('aria-selected', 'false'));
        h.setAttribute('aria-selected', 'true');

        if (isMobileLike()) {
          showTranscriptOverlay(item);
        } else {
          setDesktopPanel(item);
        }
      }

      h.addEventListener('click', activateHighlight);
      h.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          activateHighlight(e);
        }
      });
    });

    $('#transcriptOverlayClose')?.addEventListener('click', closeTranscriptOverlay);
    transcriptOverlay?.addEventListener('click', e => {
      if (e.target === transcriptOverlay) closeTranscriptOverlay();
    });

    // Reset auto-hide timer when tapping inside the card
    $('.transcript-overlay-card')?.addEventListener('click', e => {
      e.stopPropagation();
      clearTimeout(overlayTimer);
      overlayTimer = setTimeout(() => closeTranscriptOverlay(), 5000);
    });

    /* =========================================================
       GLOBAL ESC KEY
    ========================================================= */
    document.addEventListener('keydown', e => {
      if (e.key !== 'Escape') return;

      if (packingOverlay?.classList.contains('is-visible')) {
        closeOverlay(packingOverlay);
      } else if (modal?.classList.contains('is-visible')) {
        closeOverlay(modal);
      } else if (transcriptOverlay?.classList.contains('is-visible')) {
        closeTranscriptOverlay();
      }
    });
  </script>
</body>
</html>
